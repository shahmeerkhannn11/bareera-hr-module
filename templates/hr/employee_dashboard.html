{% extends 'hr/base.html' %}
{% block title %}My Dashboard{% endblock %}

{% block content %}

<div class="glass">
    <div class="admin-header">
        <div class="header-left">
            <h2 class="page-heading">My Dashboard</h2>
            <span class="role-label">Employee</span>
        </div>
    </div>

    <div class="dashboard-grid">
        <div class="card">
            <div class="icon">üë§</div>
            <h4>Name</h4>
            <div class="value">{{ employee.name }}</div>
        </div>

        <div class="card">
            <div class="icon">üíº</div>
            <h4>Position</h4>
            <div class="value">{{ employee.position }}</div>
        </div>

        <div class="card">
            <div class="icon">üè¢</div>
            <h4>Department</h4>
            <div class="value">{{ employee.department }}</div>
        </div>

        <div class="card">
            <div class="icon">üíµ</div>
            <h4>Salary</h4>
            <div class="value">PKR {{ employee.salary }}</div>
        </div>
    </div>
</div>

<div class="glass section">
    <h3 class="page-heading">Recent Attendance</h3>

    <div class="table-wrap">
        <table>
            <thead>
                <tr><th>Date</th><th>Status</th></tr>
            </thead>
            <tbody>
                {% for a in attendance %}
                <tr>
                    <td>{{ a.date }}</td>
                    <td>
                        {% if a.status == "Present" %}
                            <span class="badge present">Present</span>
                        {% else %}
                            <span class="badge absent">Absent</span>
                        {% endif %}
                    </td>
                </tr>
                {% empty %}
                <tr><td colspan="2" class="muted">No records</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<div class="glass section">
    <h3 class="page-heading">Payroll History</h3>

    <div class="table-wrap">
        <table>
            <thead>
                <tr><th>Payment Date</th><th>Amount</th><th>Remarks</th></tr>
            </thead>
            <tbody>
                {% for p in payroll %}
                <tr>
                    <td>{{ p.payment_date }}</td>
                    <td>PKR {{ p.amount }}</td>
                    <td>{{ p.remarks|default:"‚Äî" }}</td>
                </tr>
                {% empty %}
                <tr><td colspan="3" class="muted">No payroll records</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}
